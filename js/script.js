const container=document.getElementById("container");function handleForm(e){e.preventDefault()}document.getElementById("submitUrl").addEventListener("submit",handleForm),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),document.getElementById("submitUrl").onsubmit=function(){var e,t=document.getElementById("url").value;document.getElementsByClassName("links").length<1?(e=document.createElement("div")).className="links":(e=document.getElementsByClassName("links")[0]).innerHTML="";e.innerHTML="Loading...";var n=document.createElement("table");n.className="table";let a=document.createElement("thead"),l=document.createElement("tr"),r=document.createElement("th");r.innerHTML="Download";let d=document.createElement("th");d.innerHTML="Format";let m=document.createElement("th");m.innerHTML="Quality";let i=document.createElement("th");i.innerHTML="Has Audio";let o=document.createElement("th");o.innerHTML="Has Video",l.appendChild(r),l.appendChild(d),l.appendChild(m),l.appendChild(i),l.appendChild(o),a.appendChild(l),n.appendChild(a);var c=document.createElement("tbody");getInfo(t).then(t=>{e.innerHTML="";for(let e=0,n=t.formats.length;e<n;e++){let n=document.createElement("tr"),a=document.createElement("td"),l=document.createElement("a");l.href=t.formats[e].url,l.target="_blank",l.innerHTML="Download",a.appendChild(l);let r=document.createElement("td");r.innerHTML=t.formats[e].mimeType.split(";")[0];let d=document.createElement("td");null==t.formats[e].qualityLabel||null==t.formats[e].qualityLabel?null==t.formats[e].quality||null==t.formats[e].quality?d.innerHTML="Unknown":d.innerHTML=t.formats[e].quality:null==t.formats[e].quality||null==t.formats[e].quality?d.innerHTML=t.formats[e].qualityLabel:d.innerHTML=t.formats[e].quality.concat(" (",t.formats[e].qualityLabel,")");let m=document.createElement("td");m.innerHTML=t.formats[e].hasAudio.toString();let i=document.createElement("td");i.innerHTML=t.formats[e].hasVideo.toString(),n.appendChild(a),n.appendChild(r),n.appendChild(d),n.appendChild(m),n.appendChild(i),c.appendChild(n),c.appendChild(document.createElement("br"))}n.appendChild(c),e.appendChild(n),container.appendChild(e)})};
