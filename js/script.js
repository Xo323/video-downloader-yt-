var container=document.getElementById("container");function handleForm(e){e.preventDefault()}document.getElementById("submitUrl").addEventListener("submit",handleForm),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),document.getElementById("submitUrl").onsubmit=function(){var e,t=document.getElementById("url").value;document.getElementsByClassName("links").length<1?(e=document.createElement("div")).className="links":(e=document.getElementsByClassName("links")[0]).innerHTML="";var n=document.createElement("table");n.className="table";var a=document.createElement("thead"),r=document.createElement("tr"),l=document.createElement("th");l.innerHTML="Download";var d=document.createElement("th");d.innerHTML="Format";var m=document.createElement("th");m.innerHTML="Quality";var i=document.createElement("th");i.innerHTML="Has Audio";var o=document.createElement("th");o.innerHTML="Has Video",r.appendChild(l),r.appendChild(d),r.appendChild(m),r.appendChild(i),r.appendChild(o),a.appendChild(r),n.appendChild(a);var c=document.createElement("tbody");getInfo(t).then(function(e){for(var t=0,n=e.formats.length;t<n;t++){var a=document.createElement("tr"),r=document.createElement("td"),l=document.createElement("a");l.href=e.formats[t].url,l.target="_blank",l.innerHTML="Download",r.appendChild(l);var d=document.createElement("td");d.innerHTML=e.formats[t].mimeType.split(";")[0];var m=document.createElement("td");null==e.formats[t].qualityLabel||null==e.formats[t].qualityLabel?null==e.formats[t].quality||null==e.formats[t].quality?m.innerHTML="Unknown":m.innerHTML=e.formats[t].quality:null==e.formats[t].quality||null==e.formats[t].quality?m.innerHTML=e.formats[t].qualityLabel:m.innerHTML=e.formats[t].quality.concat(" (",e.formats[t].qualityLabel,")");var i=document.createElement("td");i.innerHTML=e.formats[t].hasAudio.toString();var o=document.createElement("td");o.innerHTML=e.formats[t].hasVideo.toString(),a.appendChild(r),a.appendChild(d),a.appendChild(m),a.appendChild(i),a.appendChild(o),c.appendChild(a),c.appendChild(document.createElement("br"))}}),n.appendChild(c),e.appendChild(n),container.appendChild(e)};
